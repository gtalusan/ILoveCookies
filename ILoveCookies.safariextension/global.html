<html>
<head>
<script type="text/javascript">

var epoch = "Thu, 01-Jan-1970 00:00:01 GMT";

function handler(event)
{
	if (event.name == "removeBlacklistedCookies") {
		var payload = event.message;
		if (payload.domain.indexOf("thestar.com") >= 0) {
			event.target.page.dispatchMessage("removeCookie", { domain: payload.domain, cookie: "syncwall-history=; path=/; expires=" + epoch });
			event.target.page.dispatchMessage("removeCookie", { domain: payload.domain, cookie: "syncwall-sessionid=; path=/; expires=" + epoch });
		}
		else if (payload.domain.indexOf("torontosun.com") >= 0) {
			event.target.page.dispatchMessage("removeCookie", { domain: payload.domain, cookie: "pw_meter_tos=; path=/; domain=.torontosun.com; expires=" + epoch });
		}
		else if (payload.domain.indexOf("theglobeandmail.com") >= 0) {
			event.target.page.dispatchMessage("removeCookie", { domain: payload.domain, cookie: "METER_COOKIE=; path=/; domain=.theglobeandmail.com; expires=" + epoch });
		}
	}
}

safari.application.addEventListener("message", handler, false);

</script>
</head>
</html>
